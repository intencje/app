<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>Intencje.pl documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	      <link rel="stylesheet" href="../styles/style.css">
    </head>
    <body>

        <div class="navbar navbar-default navbar-fixed-top visible-xs">
            <a href="../" class="navbar-brand">Intencje.pl documentation</a>
            <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content component">
                   <div class="content-data">




<ol class="breadcrumb">
  <li>Components</li>
  <li>IntentionsPage</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="active">
            <a href="#info" role="tab" id="info-tab" data-toggle="tab" data-link="info">Info</a>
        </li>
        <li >
            <a href="#source" role="tab" id="source-tab" data-toggle="tab" data-link="source">Source</a>
        </li>
        <li >
            <a href="#templateData" role="tab" id="templateData-tab" data-toggle="tab" data-link="template">Template</a>
        </li>
        <li >
            <a href="#styleData" role="tab" id="styleData-tab" data-toggle="tab" data-link="style">Styles</a>
        </li>
        <li >
            <a href="#tree" role="tab" id="tree-tab" data-toggle="tab" data-link="dom-tree">DOM Tree</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="c-info"><p class="comment">
    <h3>File</h3>
</p>
<p class="comment">
    <code>src/app/intentions/intentions.page.ts</code>
</p>



    <p class="comment">
        <h3>Implements</h3>
    </p>
    <p class="comment">
                    <code><a href="https://angular.io/api/core/OnInit" target="_blank" >OnInit</a></code>
    </p>


<section>
    <h3>Metadata</h3>
    <table class="table table-sm table-hover">
        <tbody>











            <tr>
                <td class="col-md-3">selector</td>
                <td class="col-md-9"><code>app-intentions</code></td>
            </tr>

            <tr>
                <td class="col-md-3">styleUrls</td>
                <td class="col-md-9"><code>./_css/intentions.page.scss,<br>./_css/intentions.shell.scss</code></td>
            </tr>



            <tr>
                <td class="col-md-3">templateUrl</td>
                <td class="col-md-9"><code>intentions.page.html</code></td>
            </tr>








        </tbody>
    </table>
</section>

    <section>
    <h3 id="index">Index</h3>
    <table class="table table-sm table-bordered index-table">
        <tbody>
                <tr>
                    <td class="col-md-4">
                        <h6><b>Properties</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#batch">batch</a>
                            </li>
                            <li>
                                <a href="#intentionsList$">intentionsList$</a>
                            </li>
                            <li>
                                <a href="#noContent">noContent</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                    <span class="modifier">Readonly</span>
                                <a href="#route">route</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#screenService">screenService</a>
                            </li>
                            <li>
                                <a href="#showNotification">showNotification</a>
                            </li>
                            <li>
                                <a href="#snack">snack</a>
                            </li>
                            <li>
                                <a href="#startDate">startDate</a>
                            </li>
                            <li>
                                <a href="#theEnd">theEnd</a>
                            </li>
                            <li>
                                <a href="#timelinePoint">timelinePoint</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#unsubscribe">unsubscribe</a>
                            </li>
                        </ul>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Methods</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#generateTimeline">generateTimeline</a>
                            </li>
                            <li>
                                <a href="#getBatch">getBatch</a>
                            </li>
                            <li>
                                <a href="#nextBatch">nextBatch</a>
                            </li>
                            <li>
                                <a href="#ngOnDestroy">ngOnDestroy</a>
                            </li>
                            <li>
                                <a href="#ngOnInit">ngOnInit</a>
                            </li>
                            <li>
                                <a href="#trackByIdx">trackByIdx</a>
                            </li>
                        </ul>
                    </td>
                </tr>





        </tbody>
    </table>
</section>

    <section>
    <h3 id="constructor">Constructor</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
<code>constructor(db: <a href="../injectables/DbService.html">DbService</a>, route: <a href="https://angular.io/api/router/ActivatedRoute" target="_blank">ActivatedRoute</a>, seoService: <a href="../injectables/SeoService.html">SeoService</a>, screenService: <a href="../injectables/ScreenService.html">ScreenService</a>, snackbar: MatSnackBar)</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="37" class="link-to-prism">src/app/intentions/intentions.page.ts:37</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                            <div>
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>db</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/DbService.html" target="_self" >DbService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>route</td>
                                                  
                                                        <td>
                                                                        <code><a href="https://angular.io/api/router/ActivatedRoute" target="_blank" >ActivatedRoute</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>seoService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/SeoService.html" target="_self" >SeoService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>screenService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/ScreenService.html" target="_self" >ScreenService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>snackbar</td>
                                                  
                                                        <td>
                                                                    <code>MatSnackBar</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
</section>





    <section>
    
    <h3 id="methods">
        Methods
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="generateTimeline"></a>
                    <span class="name">
                        <b>
                            generateTimeline
                        </b>
                        <a href="#generateTimeline"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>generateTimeline()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="49"
                            class="link-to-prism">src/app/intentions/intentions.page.ts:49</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getBatch"></a>
                    <span class="name">
                        <b>
                            getBatch
                        </b>
                        <a href="#getBatch"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getBatch(pointInTime: literal type)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="141"
                            class="link-to-prism">src/app/intentions/intentions.page.ts:141</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>pointInTime</td>
                                    <td>
                                            <code>literal type</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Observable&lt;unknown&gt;</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="nextBatch"></a>
                    <span class="name">
                        <b>
                            nextBatch
                        </b>
                        <a href="#nextBatch"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>nextBatch(pointInTime: literal type)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="164"
                            class="link-to-prism">src/app/intentions/intentions.page.ts:164</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>pointInTime</td>
                                    <td>
                                            <code>literal type</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Observable&lt;unknown&gt;</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="ngOnDestroy"></a>
                    <span class="name">
                        <b>
                            ngOnDestroy
                        </b>
                        <a href="#ngOnDestroy"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>ngOnDestroy()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="180"
                            class="link-to-prism">src/app/intentions/intentions.page.ts:180</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="ngOnInit"></a>
                    <span class="name">
                        <b>
                            ngOnInit
                        </b>
                        <a href="#ngOnInit"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>ngOnInit()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="115"
                            class="link-to-prism">src/app/intentions/intentions.page.ts:115</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="trackByIdx"></a>
                    <span class="name">
                        <b>
                            trackByIdx
                        </b>
                        <a href="#trackByIdx"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>trackByIdx(i: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="175"
                            class="link-to-prism">src/app/intentions/intentions.page.ts:175</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>i</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</section>
    <section>
    
        <h3 id="inputs">
            Properties
        </h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="batch"></a>
                        <span class="name">
                            <b>
                            batch</b>
                            <a href="#batch"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>10</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="20" class="link-to-prism">src/app/intentions/intentions.page.ts:20</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="intentionsList$"></a>
                        <span class="name">
                            <b>
                            intentionsList$</b>
                            <a href="#intentionsList$"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="../interfaces/Intention.html" target="_self" >Observable&lt;Intention[]&gt;</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="33" class="link-to-prism">src/app/intentions/intentions.page.ts:33</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="noContent"></a>
                        <span class="name">
                            <b>
                            noContent</b>
                            <a href="#noContent"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>false</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="35" class="link-to-prism">src/app/intentions/intentions.page.ts:35</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="route"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                                <span class="modifier">Readonly</span>
                            route</b>
                            <a href="#route"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://angular.io/api/router/ActivatedRoute" target="_blank" >ActivatedRoute</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="41" class="link-to-prism">src/app/intentions/intentions.page.ts:41</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="screenService"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            screenService</b>
                            <a href="#screenService"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="../injectables/ScreenService.html" target="_self" >ScreenService</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="43" class="link-to-prism">src/app/intentions/intentions.page.ts:43</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="showNotification"></a>
                        <span class="name">
                            <b>
                            showNotification</b>
                            <a href="#showNotification"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>false</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="26" class="link-to-prism">src/app/intentions/intentions.page.ts:26</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="snack"></a>
                        <span class="name">
                            <b>
                            snack</b>
                            <a href="#snack"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code>null</code>

                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>null</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="37" class="link-to-prism">src/app/intentions/intentions.page.ts:37</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="startDate"></a>
                        <span class="name">
                            <b>
                            startDate</b>
                            <a href="#startDate"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>Date.now()</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="24" class="link-to-prism">src/app/intentions/intentions.page.ts:24</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="theEnd"></a>
                        <span class="name">
                            <b>
                            theEnd</b>
                            <a href="#theEnd"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>false</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="22" class="link-to-prism">src/app/intentions/intentions.page.ts:22</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="timelinePoint"></a>
                        <span class="name">
                            <b>
                            timelinePoint</b>
                            <a href="#timelinePoint"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>new BehaviorSubject({ seconds: 0, nanoseconds: 0 })</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="31" class="link-to-prism">src/app/intentions/intentions.page.ts:31</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>Punkt w czasie do pobierania kolejnych paczek przy scroll&#39;u. To jego aktualizcje o czas dodania ostatniej intencji (patrz HTML)
w pobieranej paczce uruchamiają pobieranie kolejnych. BehaviorSubject na start nie może być pusty stąd wyzerowany czas w definicji.</p>
</div>
                    </td>
                </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="unsubscribe"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Private</span>
                            unsubscribe</b>
                            <a href="#unsubscribe"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>new Subject()</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="36" class="link-to-prism">src/app/intentions/intentions.page.ts:36</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
</section>

</div>


    <div class="tab-pane fade  tab-source-code" id="c-source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import { Component, OnInit } from &#x27;@angular/core&#x27;;
import { Observable, Subject, BehaviorSubject } from &#x27;rxjs&#x27;;
import { mergeMap, map, tap, takeUntil, throttleTime } from &#x27;rxjs/operators&#x27;;
import { SeoService } from &#x27;../_services/seo/seo.service&#x27;;
import { environment } from &#x27;../../environments/environment&#x27;;
import { Intention } from &#x27;../_models/firebase.model&#x27;;
import { scan } from &#x27;rxjs/operators&#x27;;
import { ActivatedRoute } from &#x27;@angular/router&#x27;;
import { ScreenService } from &#x27;../_services/screen/screen.service&#x27;;
import { MatSnackBar } from &#x27;@angular/material/snack-bar&#x27;;
import { DbService } from &#x27;../_services/db/db.service&#x27;;

@Component({
  selector: &#x27;app-intentions&#x27;,
  templateUrl: &#x27;intentions.page.html&#x27;,
  styleUrls: [&#x27;./_css/intentions.page.scss&#x27;, &#x27;./_css/intentions.shell.scss&#x27;],
})
export class IntentionsPage implements OnInit {
  // Ilość intencji pobierana za jednym odczytem z bazy.
  batch &#x3D; 10;
  // Flaga oznaczająca dojechanie do ostatniego elementu listy.
  theEnd &#x3D; false;
  // Data uruchomienia komponentu. Do porównania z datami przychodzących elementów w celu wyświetlenia powiadomienia o nowych intencjach.
  startDate: number &#x3D; Date.now();
  // Flaga pokazywania informacji o nowych elementach.
  showNotification &#x3D; false;
  /**
   * Punkt w czasie do pobierania kolejnych paczek przy scroll&#x27;u. To jego aktualizcje o czas dodania ostatniej intencji (patrz HTML)
   * w pobieranej paczce uruchamiają pobieranie kolejnych. BehaviorSubject na start nie może być pusty stąd wyzerowany czas w definicji.
   */
  timelinePoint &#x3D; new BehaviorSubject({ seconds: 0, nanoseconds: 0 });
  // Zbiornik na potrzeby generowania widoku w HTML
  intentionsList$: Observable&lt;Intention[]&gt;;
  // Flaga używana do pokazywania zaślepki w przypadku braku kontentu.
  noContent &#x3D; false;
  private unsubscribe &#x3D; new Subject();
  snack &#x3D; null;

  constructor(
    private db: DbService,
    public readonly route: ActivatedRoute,
    private readonly seoService: SeoService,
    public screenService: ScreenService,
    private snackbar: MatSnackBar,
  ) {
    this.generateTimeline();
  }

  generateTimeline(): void {
    // Nasłuchuje zmian w timelinePoint i po ich wystąpieniu merguje nowe porcje intencji. Podstawowe źródło prawdy.
    const batchMap &#x3D; this.timelinePoint.pipe(
      /**
       * Wycinamy nadmiar nadmiarowych zapytań do bazy, które mogą być triggerowane scroll&#x27;em
       */
      throttleTime(500),
      /**
       * Nie możemy użyć tu switchMap z uwagi na konieczność utrzymania subskrypcji wszystkich paczek danych.
       * Gdybyśmy użyli swicthMap tylko ostatnia paczka danych byłaby aktualizowana live z uwagi na subskrypcję.
       */
      mergeMap((n) &#x3D;&gt; this.getBatch(n)),
      // Mergujemy kolejną porcję danych z obecnym stream&#x27;em.
      scan((acc, batch) &#x3D;&gt; {
        return { ...acc, ...(batch as Intention[]) };
      }, {}),
      takeUntil(this.unsubscribe),
    );

    // Observable na potrzeby generowania widoku listy intencji
    this.intentionsList$ &#x3D; batchMap.pipe(
      map((item) &#x3D;&gt; {
        /* Do poprawnej obsługi intencji (edycja, usuwanie, komentowanie) potrzebujemy jej IDka.
         * Możemy go pozyskać z kluczy obiektów batchMap (naszego SSoT) konwertując je na elementy tablicy.
         * Tablice będą nam i tak potrzebne do sprawdzania ilości elementów, sortowania po dacie jak i samej prezentacji intencji na widoku.
         */
        const data: Intention[] &#x3D; Object.entries(item).reduce((acc, [id, intention]) &#x3D;&gt; {
          acc.push({ ...(intention as Intention), id });
          return acc;
        }, []);

        // Sprawdzamy czy mamy nad czym pracować
        if (data?.length &gt; 0) {
          // Sortowanie elementów tablicy po dacie
          data.sort(function (a: Intention, b: Intention) {
            return b.date.toDate() - a.date.toDate();
          });
          // Jeśli w trakcie przeglądania intencji pojawiła się nowa pokaż powiadomienie o możliwości jego pokazania
          if (data[0].date.toDate() &gt; this.startDate &amp;&amp; this.snack &#x3D;&#x3D; null) {
            this.snack &#x3D; this.snackbar.open(&#x27;Pojawiły się nowe intencje&#x27;, &#x27;ZOBACZ&#x27;, {
              verticalPosition: &#x27;top&#x27;,
            });
            // Jeśli użytkownik chce zobaczyć nową intencję odśwież obecną listę poprzez przełączenie daty startowej
            this.snack.onAction().subscribe(() &#x3D;&gt; {
              this.startDate &#x3D; Date.now();
              // Odrobina polotu i finezji poprzez przescrollowanie listy o ile jest na to przestrzeń
              (function smoothscroll() {
                const currentScroll &#x3D; document.documentElement.scrollTop || document.body.scrollTop;
                if (currentScroll &gt; 0) {
                  window.requestAnimationFrame(smoothscroll); //TODO: isPlatformBrowser!
                  window.scrollTo(0, currentScroll - currentScroll / 8);
                }
              })();
            });
          }
          // Zwracamy efekt naszej pracy
          return data;
        } else {
          // Nie mamy czego pokazać - pokazujemy zaślępke na brak intencji.
          this.noContent &#x3D; true;
        }
      }),
      takeUntil(this.unsubscribe),
    );
  }

  ngOnInit(): void {
    this.seoService.addJSONLD([
      {
        &#x27;@context&#x27;: &#x27;https://schema.org&#x27;,
        &#x27;@type&#x27;: &#x27;Organization&#x27;,
        name: &#x27;Intencje.pl&#x27;,
        url: &#x60;${environment.url}&#x60;,
        logo: &#x27;&#x27;,
        sameAs: [&#x27;https://www.facebook.com/intencjepl&#x27;, &#x27;https://twitter.com/intencjepl&#x27;],
      },
      {
        &#x27;@context&#x27;: &#x27;https://schema.org&#x27;,
        &#x27;@type&#x27;: &#x27;SoftwareApplication&#x27;,
        name: &#x27;Intencje&#x27;,
        operatingSystem: &#x27;ANDROID&#x27;,
        applicationCategory: &#x27;https://schema.org/GameApplication&#x27;,
        aggregateRating: {
          &#x27;@type&#x27;: &#x27;AggregateRating&#x27;,
          ratingValue: &#x27;4.6&#x27;,
          ratingCount: &#x27;8864&#x27;,
        },
      },
    ]);
  }

  // Pobiera z bazy paczkę danych startując od starszych niż data podana w offset
  getBatch(pointInTime: { seconds: number; nanoseconds: number }): Observable&lt;unknown&gt; {
    return this.db
      .batch$(&#x27;intentions&#x27;, (ref) &#x3D;&gt;
        ref.where(&#x27;status&#x27;, &#x27;&#x3D;&#x3D;&#x27;, &#x27;published&#x27;).orderBy(&#x27;date&#x27;, &#x27;desc&#x27;).startAfter(pointInTime).limit(this.batch),
      )
      .pipe(
        tap((arr) &#x3D;&gt; (arr.length ? null : (this.theEnd &#x3D; true))),
        /* Aby w odpowiedniej kolejności i w niezawodny sposób prezentować stale aktualizowaną listę intencji mapujemy je do obiektu z kluczami
         * stanowiącymi jednocześnie ID intencji, które przydadzą nam się później. Takie rowiązanie pozwala nam potem aktualizować listę intencji
         * na podstawie kluczy, zamiast indeksu tablicy. To zapewnia nam brak duplikatów, które mogłyby się pojawić w trakcie aktualizacji listy.
         * Aby pozyskać IDki poszczególnych rekordów z Firebase można posłużyć się też metodą valueChanges({idField: &#x27;nazwaID&#x27;}) biblioteki AngularFire.
         */
        map((arr) &#x3D;&gt; {
          return arr.reduce((acc: any, cur: { payload: { doc: { id: any; data: () &#x3D;&gt; any } } }) &#x3D;&gt; {
            const id &#x3D; cur.payload.doc.id;
            const data &#x3D; cur.payload.doc.data();
            return { ...acc, [id]: data };
          }, {}); // -&gt; mapowanie do obiektu
        }),
        takeUntil(this.unsubscribe),
      );
  }

  nextBatch(pointInTime: { seconds: number; nanoseconds: number }): Observable&lt;unknown&gt; {
    // Dajemy znać, że dobiliśmy dna
    if (this.theEnd) return;
    // Aktualizujemy punkt w czasie
    this.timelinePoint.next(pointInTime);
  }

  /*
   * Dzięki temu przy zmianie kolejności elementów listy lub zmiany ich zawartości w Firebase lista nie będzie renderowana na nowo.
   * Zmianie ulegną tylko wybrane elementy.
   */
  trackByIdx(i: number): number {
    return i;
  }

  // Sprzątamy
  ngOnDestroy(): void {
    this.unsubscribe.next();
    this.seoService.removeJSONLD();
    this.snack?.dismiss();
  }
}
</code></pre>
    </div>

    <div class="tab-pane fade " id="c-templateData">
        <pre class="line-numbers"><code class="language-html">&lt;ng-container *ngIf&#x3D;&quot;intentionsList$ | async as intentions; else loading&quot;&gt;
  &lt;!-- &lt;div style&#x3D;&quot;height: 250px; background-size: cover; background-position: -120px 0px; background-image: url(/assets/img/header.png);&quot;&gt;&lt;/div&gt; --&gt;

  &lt;div class&#x3D;&quot;timeline&quot; style&#x3D;&quot;position: relative;&quot;&gt;
    &lt;div
      infiniteScroll
      [infiniteScrollDistance]&#x3D;&quot;2&quot;
      [infiniteScrollThrottle]&#x3D;&quot;50&quot;
      (scrolled)&#x3D;&quot;nextBatch((intentions[intentions.length -1].date))&quot;&gt;
      &lt;ng-container *ngFor&#x3D;&quot;let intention of intentions; let i &#x3D; index; trackBy: trackByIdx&quot;&gt;
        &lt;app-intention-card
          *ngIf&#x3D;&quot;intention.date.seconds * 1000 &lt; startDate&quot;
          [intention]&#x3D;&quot;intention&quot;
        &gt;&lt;/app-intention-card&gt;
      &lt;/ng-container&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/ng-container&gt;

&lt;ng-template #loading&gt;
  &lt;ng-container *ngIf&#x3D;&quot;this.noContent; else skeleton&quot;&gt;
    &lt;app-no-content *ngIf&#x3D;&quot;this.noContent&quot; message&#x3D;&quot;Brak intencji.&quot;&gt;&lt;/app-no-content&gt;
  &lt;/ng-container&gt;
&lt;/ng-template&gt;

&lt;ng-template #skeleton&gt;
  ŁADOWANIE &lt;br /&gt;
  ŁADOWANIE &lt;br /&gt;
  ŁADOWANIE &lt;br /&gt;
  ŁADOWANIE &lt;br /&gt;
  ŁADOWANIE &lt;br /&gt;
  ŁADOWANIE &lt;br /&gt;
  ŁADOWANIE &lt;br /&gt;
  ŁADOWANIE &lt;br /&gt;
  ŁADOWANIE &lt;br /&gt;
  ŁADOWANIE &lt;br /&gt;
&lt;/ng-template&gt;
</code></pre>
    </div>

    <div class="tab-pane fade " id="c-styleData">
                <p class="comment">
                    <code>./_css/intentions.page.scss</code>
                </p>
                <pre class="line-numbers"><code class="language-scss"></code></pre>
                <p class="comment">
                    <code>./_css/intentions.shell.scss</code>
                </p>
                <pre class="line-numbers"><code class="language-scss">app-image-shell.category-cover {
  --image-shell-loading-background: #ff00ff;
  --image-shell-spinner-color: #ff0000;
}
</code></pre>
    </div>

    <div class="tab-pane fade " id="c-tree">
        <div id="tree-container"></div>
        <div class="tree-legend">
            <div class="title">
                <b>Legend</b>
            </div>
            <div>
                <div class="color htmlelement"></div><span>Html element</span>
            </div>
            <div>
                <div class="color component"></div><span>Component</span>
            </div>
            <div>
                <div class="color directive"></div><span>Html element with directive</span>
            </div>
        </div>
    </div>

    
</div>

<script src="../js/libs/vis.min.js"></script>
<script src="../js/libs/htmlparser.js"></script>
<script src="../js/libs/deep-iterator.js"></script>
<script>
        var COMPONENT_TEMPLATE = '<div><ng-container *ngIf="intentionsList$ | async as intentions; else loading">  <!-- <div style="height: 250px; background-size: cover; background-position: -120px 0px; background-image: url(/assets/img/header.png);"></div> -->  <div class="timeline" style="position: relative;">    <div      infiniteScroll      [infiniteScrollDistance]="2"      [infiniteScrollThrottle]="50"      (scrolled)="nextBatch((intentions[intentions.length -1].date))">      <ng-container *ngFor="let intention of intentions; let i = index; trackBy: trackByIdx">        <app-intention-card          *ngIf="intention.date.seconds * 1000 < startDate"          [intention]="intention"        ></app-intention-card>      </ng-container>    </div>  </div></ng-container><ng-template #loading>  <ng-container *ngIf="this.noContent; else skeleton">    <app-no-content *ngIf="this.noContent" message="Brak intencji."></app-no-content>  </ng-container></ng-template><ng-template #skeleton>  ŁADOWANIE <br />  ŁADOWANIE <br />  ŁADOWANIE <br />  ŁADOWANIE <br />  ŁADOWANIE <br />  ŁADOWANIE <br />  ŁADOWANIE <br />  ŁADOWANIE <br />  ŁADOWANIE <br />  ŁADOWANIE <br /></ng-template></div>'
    var COMPONENTS = [{'name': 'AboutTheProjectPage', 'selector': 'app-about-the-project'},{'name': 'AppComponent', 'selector': 'app-root'},{'name': 'AppShellComponent', 'selector': 'app-app-shell'},{'name': 'ArticleCardComponent', 'selector': 'app-article-card'},{'name': 'ArticleCreatePage', 'selector': 'app-article-create'},{'name': 'ArticleDetailsPage', 'selector': 'app-article-details'},{'name': 'ArticleEditDetailsPage', 'selector': 'app-article-edit-details'},{'name': 'ArticlesEditPage', 'selector': 'app-articles-edit'},{'name': 'ArticlesPage', 'selector': 'app-articles'},{'name': 'BlessednessOfGodPage', 'selector': 'app-blessedness-of-god'},{'name': 'BlogCreatePage', 'selector': 'app-blog-create'},{'name': 'BlogDetailsPage', 'selector': 'app-blog-details'},{'name': 'BlogEditDetailsPage', 'selector': 'app-blog-edit-details'},{'name': 'BlogEditPage', 'selector': 'app-blog-edit'},{'name': 'BlogPage', 'selector': 'app-blog'},{'name': 'ChangeAvatarComponent', 'selector': 'app-change-avatar'},{'name': 'ContactPage', 'selector': 'app-contact'},{'name': 'FeaturesPage', 'selector': 'app-features'},{'name': 'HelpCreatePage', 'selector': 'app-help-create'},{'name': 'HelpDetailsPage', 'selector': 'app-help-details'},{'name': 'HelpEditDetailsPage', 'selector': 'app-help-edit-details'},{'name': 'HelpEditPage', 'selector': 'app-help-edit'},{'name': 'HelpPage', 'selector': 'app-help'},{'name': 'IntentionAddCommentDialog', 'selector': 'intention-add-comment-dialog'},{'name': 'IntentionCardComponent', 'selector': 'app-intention-card'},{'name': 'IntentionChangeStatusDialog', 'selector': 'intention-change-status-dialog'},{'name': 'IntentionCreatePage', 'selector': 'app-intention-create'},{'name': 'IntentionDeleteDialog', 'selector': 'intention-delete-dialog'},{'name': 'IntentionDetailsPage', 'selector': 'app-intention-details'},{'name': 'IntentionEditDetailsPage', 'selector': 'app-intention-edit-details'},{'name': 'IntentionsEditPage', 'selector': 'app-intentions-edit'},{'name': 'IntentionsHeaderComponent', 'selector': 'app-intentions-header'},{'name': 'IntentionsPage', 'selector': 'app-intentions'},{'name': 'LoadNewestItemsComponent', 'selector': 'app-load-newest-items'},{'name': 'LoginPage', 'selector': 'app-login'},{'name': 'MessagesPage', 'selector': 'app-messages'},{'name': 'MissionPage', 'selector': 'app-mission'},{'name': 'NoContentComponent', 'selector': 'app-no-content'},{'name': 'NotFoundPage', 'selector': 'app-not-found'},{'name': 'NotificationsPage', 'selector': 'app-notifications'},{'name': 'ParishCreatePage', 'selector': 'app-parish-create'},{'name': 'ParishDetailsPage', 'selector': 'app-parish-details'},{'name': 'ParishEditDetailsPage', 'selector': 'app-parish-edit-details'},{'name': 'ParishesEditPage', 'selector': 'app-parishes-edit'},{'name': 'ParishesPage', 'selector': 'app-parishes'},{'name': 'PatronCreatePage', 'selector': 'app-patron-create'},{'name': 'PatronDetailsPage', 'selector': 'app-patron-details'},{'name': 'PatronEditDetailsPage', 'selector': 'app-patron-edit-details'},{'name': 'PatronListItemComponent', 'selector': 'app-patron-list-item'},{'name': 'PatronsEditPage', 'selector': 'app-patrons-edit'},{'name': 'PatronsPage', 'selector': 'app-patrons'},{'name': 'PrayerCreatePage', 'selector': 'app-prayer-create'},{'name': 'PrayerDetailsPage', 'selector': 'app-prayer-details'},{'name': 'PrayerEditDetailsPage', 'selector': 'app-prayer-edit-details'},{'name': 'PrayerListItemComponent', 'selector': 'app-prayer-list-item'},{'name': 'PrayersActsPage', 'selector': 'app-prayers-acts'},{'name': 'PrayersBasicPage', 'selector': 'app-prayers-basic'},{'name': 'PrayersEditPage', 'selector': 'app-prayers-edit'},{'name': 'PrayersHeaderComponent', 'selector': 'app-prayers-header'},{'name': 'PrayersLitaniesPage', 'selector': 'app-prayers-litanies'},{'name': 'PrayersNovenaPage', 'selector': 'app-prayers-novena'},{'name': 'PrayersPage', 'selector': 'app-prayers'},{'name': 'PrayersThematicPage', 'selector': 'app-prayers-thematic'},{'name': 'PrayingListItemComponent', 'selector': 'app-praying-list-item'},{'name': 'RadioPage', 'selector': 'app-radio'},{'name': 'ReadingsPage', 'selector': 'app-readings'},{'name': 'SeoStuffComponent', 'selector': 'app-seo-stuff'},{'name': 'SettingsEmailNotificationsPage', 'selector': 'app-settings-email-notifications'},{'name': 'SettingsPage', 'selector': 'app-settings'},{'name': 'SettingsPushNotificationsPage', 'selector': 'app-settings-push-notifications'},{'name': 'SettingsRemindersPage', 'selector': 'app-settings-reminders'},{'name': 'TabsComponent', 'selector': 'app-tabs'},{'name': 'TagCreatePage', 'selector': 'app-tag-create'},{'name': 'TagDetailsPage', 'selector': 'app-tag-details'},{'name': 'TagEditDetailsPage', 'selector': 'app-tag-edit-details'},{'name': 'TagListItemComponent', 'selector': 'app-tag-list-item'},{'name': 'TagsEditPage', 'selector': 'app-tags-edit'},{'name': 'TagsPage', 'selector': 'app-tags'},{'name': 'TestimoniesEditPage', 'selector': 'app-testimonies-edit'},{'name': 'TestimoniesPage', 'selector': 'app-testimonies'},{'name': 'TestimonyCardComponent', 'selector': 'app-testimony-card'},{'name': 'TestimonyCreatePage', 'selector': 'app-testimony-create'},{'name': 'TestimonyDetailsPage', 'selector': 'app-testimony-details'},{'name': 'TestimonyEditDetailsPage', 'selector': 'app-testimony-edit-details'},{'name': 'ThreadPage', 'selector': 'app-thread'},{'name': 'TosPage', 'selector': 'app-tos'},{'name': 'UserCardComponent', 'selector': 'app-user-card'},{'name': 'UserDetailsPage', 'selector': 'app-user-details'},{'name': 'UserEditDetailsPage', 'selector': 'app-user-edit-details'},{'name': 'UsersHeaderComponent', 'selector': 'app-users-header'},{'name': 'UsersPage', 'selector': 'app-users'}];
    var DIRECTIVES = [{'name': 'AddSeoStuffDirective', 'selector': '[appAddSeoStuff]'},{'name': 'HasRoleDirective', 'selector': '[appHasRole]'},{'name': 'ScrollerDirective', 'selector': '[appScroller]'},{'name': 'ShowActivityDetailsDirective', 'selector': '[appShowActivityDetails]'},{'name': 'ShowArticleDetailsDirective', 'selector': '[appShowArticleDetails]'},{'name': 'ShowPatronProfileDirective', 'selector': '[appShowPatronProfile]'},{'name': 'ShowPrayerDetailsDirective', 'selector': '[appShowPrayerDetails]'},{'name': 'ShowTagDetailsDirective', 'selector': '[appShowTagDetails]'},{'name': 'ShowTestimonyDetailsDirective', 'selector': '[appShowTestimonyDetails]'},{'name': 'ShowUserProfileDirective', 'selector': '[appShowUserProfile]'}];
    var ACTUAL_COMPONENT = {'name': 'IntentionsPage'};
</script>
<script src="../js/tree.js"></script>










                   




                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> result-matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'component';
            var COMPODOC_CURRENT_PAGE_URL = 'IntentionsPage.html';
            var MAX_SEARCH_RESULTS = 15;
       </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>
       <!-- Required to polyfill modern browsers as code is ES5 for IE... -->
       <script src="../js/libs/custom-elements-es5-adapter.js" charset="utf-8" defer></script>
       <script src="../js/menu-wc.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>
       <script src="../js/libs/zepto.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
